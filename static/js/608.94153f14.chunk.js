"use strict";(self.webpackChunkcinemania=self.webpackChunkcinemania||[]).push([[608],{311:function(n,i,e){e.d(i,{Z:function(){return L}});var t,r,a,o,d,s,c,p=e(168),l=e(3081),u=l.Z.ul(t||(t=(0,p.Z)(["\n  width: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  row-gap: 24px;\n  column-gap: 20px;\n\n  margin: 0 auto 36px auto;\n\n  @media screen and (max-width: 389px) {\n    & {\n      justify-content: center;\n    }\n  }\n\n  @media screen and (min-width: 744px) {\n    & {\n      column-gap: 48px;\n      row-gap: 24px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      column-gap: 24px;\n      row-gap: 50px;\n\n      margin: 0 auto 51px auto;\n    }\n  }\n"]))),h=e(3433),x=e(9439),f=e(8820),g=e(2791),m=e(1087),w=l.Z.li(r||(r=(0,p.Z)(["\n  position: relative;\n\n  border-radius: 8px;\n"]))),b=(0,l.Z)(m.rU)(a||(a=(0,p.Z)(["\n  display: block;\n\n  position: relative;\n  background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n    url(",");\n  background-size: cover;\n\n  color: inherit;\n\n  width: 161px;\n  height: 221px;\n\n  border: 1px solid #828282;\n  border-radius: inherit;\n\n  overflow: hidden;\n\n  @media screen and (min-width: 744px) {\n    width: 272px;\n    height: 400px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    width: 212px;\n    height: 300px;\n  }\n"])),(function(n){return n.urlbg})),v=l.Z.div(o||(o=(0,p.Z)(["\n  position: relative;\n\n  width: 100%;\n  height: 100%;\n\n  border-radius: inherit;\n\n  overflow: hidden;\n\n  &::before {\n    content: '';\n\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    background-color: ",";\n  }\n\n  transform: scale(1);\n\n  transition: transform 250ms ease-in-out 500ms;\n\n  .link-details:hover & {\n    transform: scale(1.1);\n  }\n"])),(function(n){return n.loadImg?"rgba(0, 0, 0, 0.5)":"none"})),j=l.Z.img(d||(d=(0,p.Z)(["\n  display: ",";\n"])),(function(n){return n.loadImg?"block":"none"})),Z=l.Z.button(s||(s=(0,p.Z)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n\n  width: 24px;\n  height: 24px;\n\n  padding: 0;\n\n  background: transparent;\n\n  border: none;\n\n  & .add {\n    color: #ffffff;\n\n    transition: color 250ms ease-in;\n  }\n\n  & .delete {\n    color: #881313;\n\n    transition: color 250ms ease-in;\n  }\n\n  &:hover .add,\n  &:hover .delete,\n  &:focus .add,\n  &:focus .delete {\n    color: rgba(136, 19, 19, 0.7);\n  }\n\n  @media screen and (min-width: 744px) {\n    & {\n      width: 40px;\n      height: 40px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      width: 30px;\n      height: 30px;\n    }\n  }\n"]))),y=l.Z.p(c||(c=(0,p.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  min-width: 100px;\n\n  font-size: 20px;\n\n  text-align: center;\n\n  @media screen and (min-width: 744px) {\n    & {\n      font-size: 28px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      font-size: 22px;\n    }\n  }\n"]))),k=e(7689),I=e(5442),C=e(9434),_=e(9488),q=e(4908),z=e.p+"static/media/img_poster.11eb114ab4cc8dafed7a.jpg",N=e(184),P=function(n){var i=n.id,e=n.poster_path,t=n.title,r=(0,C.v9)((function(n){return n.auth.isLoggedIn})),a=(0,C.v9)((function(n){return n.auth.favFilms})),o=(0,C.v9)((function(n){return n.auth.userId})),d=(0,C.v9)((function(n){return n.auth.email})),s=(0,C.I0)(),c=(0,k.TH)(),p=(0,g.useState)(!1),l=(0,x.Z)(p,2),u=l[0],m=l[1];return(0,N.jsx)(w,{children:(0,N.jsxs)(b,{className:"link-details",to:"/catalog/".concat(i),state:{from:c},children:[(0,N.jsxs)(v,{loadImg:u,children:[!u&&(0,N.jsx)(I.Z,{variant:"rectangular",animation:"wave",sx:{bgcolor:"rgba(121, 121, 121, 0.7)",width:"inherit",height:"inherit"}}),(0,N.jsx)(j,{src:e?"".concat("https://image.tmdb.org/t/p/original").concat(e):z,alt:t,onLoad:function(){m(!0)},loadImg:u})]}),r&&!(null!==a&&void 0!==a&&a.find((function(n){return n.id===i})))&&(0,N.jsx)(Z,{type:"button",onClick:function(n){n.preventDefault(),s((0,_.Tl)({id:i,poster_path:e,title:t})),"guest"!==d&&s((0,q.q)({userId:o,email:d,films:[].concat((0,h.Z)(a),[{id:i,poster_path:e,title:t}])}))},children:(0,N.jsx)(f.lo,{className:"add",style:{width:"inherit",height:"inherit"}})}),r&&(null===a||void 0===a?void 0:a.find((function(n){return n.id===i})))&&(0,N.jsx)(Z,{type:"button",onClick:function(n){n.preventDefault(),s((0,_.ro)(i)),"guest"!==d&&s((0,q.q)({userId:o,email:d,films:(0,h.Z)(a.filter((function(n){return n.id!==i})))}))},children:(0,N.jsx)(f.M_L,{className:"delete",style:{width:"inherit",height:"inherit"}})}),(0,N.jsx)(y,{children:t})]})})},L=function(n){var i=n.films;return(0,N.jsx)(u,{children:i.map((function(n){var i=n.id,e=n.poster_path,t=n.title;return(0,N.jsx)(P,{id:i,poster_path:e,title:t},i)}))})}},7904:function(n,i,e){e.r(i),e.d(i,{default:function(){return D}});var t,r,a,o,d,s,c,p=e(9439),l=e(9434),u=e(1087),h=e(3591),x=e(168),f=e(3081),g=f.Z.div(t||(t=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 14px;\n\n  @media screen and (min-width: 744px) {\n    & {\n      gap: 24px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      justify-content: center;\n      gap: 40px;\n    }\n  }\n"]))),m=f.Z.button(r||(r=(0,x.Z)(["\n  min-width: calc((100% - 28px) / 3);\n  padding: 8px;\n\n  background-color: #fff;\n  color: #000;\n\n  border: 1px solid #000;\n  border-radius: 8px;\n\n  font-weight: 400;\n  font-size: 10px;\n\n  text-align: center;\n  text-decoration: none;\n\n  transition: background-color 250ms ease-out;\n\n  &:hover,\n  &:focus {\n    background-color: #c6bfbf;\n  }\n\n  @media screen and (min-width: 744px) {\n    & {\n      min-width: calc((100% - 48px) / 3);\n      padding: 18px 8px;\n      font-size: 16px;\n\n      border-radius: 12px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      min-width: 240px;\n      padding: 10px;\n      font-size: 18px;\n    }\n  }\n"]))),w=e(8193),b=e(184),v=function(){var n=(0,l.I0)(),i=(0,u.lr)(),e=(0,p.Z)(i,2),t=e[0],r=e[1],a=function(i){t.get("query")&&r(),n(i())};return(0,b.jsxs)(g,{className:"animate__animated animate__fadeInDown",children:[(0,b.jsx)(m,{type:"button",onClick:function(){return a(w.UE)},children:"\u041d\u0435\u0437\u0430\u0431\u0430\u0440\u043e\u043c \u0443 \u043a\u0456\u043d\u043e"}),(0,b.jsx)(m,{type:"button",onClick:function(){return a(w.Zn)},children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456"}),(0,b.jsx)(m,{type:"button",onClick:function(){return a(w.VB)},children:"\u0417\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u043c"})]})},j=e(457),Z=f.Z.section(a||(a=(0,x.Z)([""]))),y=f.Z.div(o||(o=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  @media screen and (max-width: 743px) {\n    & {\n      max-width: 390px;\n    }\n  }\n\n  @media screen and (min-width: 744px) {\n    & {\n      gap: 140px;\n      max-width: none;\n      width: 744px;\n\n      padding: 0 74px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      gap: 90px;\n      width: 1440px;\n\n      padding: 0 142px;\n    }\n  }\n"]))),k=e(2791),I=e(311),C=f.Z.div(d||(d=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  margin-bottom: 60px;\n\n  @media screen and (min-width: 744px) {\n    & {\n      margin-bottom: 160px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      justify-content: center;\n      gap: 4px;\n\n      margin-bottom: 40px;\n    }\n  }\n"]))),_=f.Z.span(s||(s=(0,x.Z)(["\n  width: 133px;\n  height: 40px;\n\n  background: #fff;\n  color: #000;\n\n  font-weight: 400;\n  font-size: 36px;\n\n  border: 1px solid #000;\n  border-radius: 8px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (min-width: 744px) {\n    & {\n      width: 269px;\n      height: 65px;\n\n      font-size: 48px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      width: 220px;\n      height: 55px;\n\n      margin-right: 28px;\n    }\n  }\n"]))),q=f.Z.button(c||(c=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 40px;\n  height: 40px;\n\n  padding: 0;\n\n  background-color: #fff;\n  color: #000;\n\n  border: none;\n  border-radius: 8px;\n\n  overflow: hidden;\n\n  transition: background-color 250ms ease-out;\n\n  &:hover,\n  &:focus {\n    background-color: #c6bfbf;\n  }\n\n  &.one {\n    padding: 10px;\n  }\n\n  &:disabled {\n    background: rgba(255, 255, 255, 0.5);\n  }\n\n  @media screen and (min-width: 744px) {\n    & {\n      width: 65px;\n      height: 65px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    & {\n      width: 55px;\n      height: 55px;\n    }\n\n    &:nth-of-type(2) {\n      margin-right: 28px;\n    }\n  }\n"]))),z=e(6907),N=e(1213),P=function(){var n=(0,l.v9)((function(n){return n.films.pagination.page})),i=(0,l.v9)((function(n){return n.films.pagination.totalPages})),e=(0,l.I0)();return(0,b.jsxs)(C,{children:[(0,b.jsx)(q,{className:"one",disabled:n-1<=0,onClick:function(){return e((0,h.Mj)(1))},children:(0,b.jsx)(z.YNj,{style:{width:"inherit",height:"inherit"}})}),(0,b.jsx)(q,{disabled:n-2<=0,onClick:function(){return e((0,h.Mj)(2))},children:(0,b.jsx)(N.gd4,{style:{width:"inherit",height:"inherit"}})}),(0,b.jsx)(_,{children:n}),(0,b.jsx)(q,{disabled:n+2>i,onClick:function(){return e((0,h.nP)(2))},children:(0,b.jsx)(N.xll,{style:{width:"inherit",height:"inherit"}})}),(0,b.jsx)(q,{className:"one",disabled:n+1>i,onClick:function(){return e((0,h.nP)(1))},children:(0,b.jsx)(z.p6n,{style:{width:"inherit",height:"inherit"}})})]})},L=e(8273),E=e(5421),D=function(){var n=(0,l.v9)((function(n){return n.films.arrayFilms})),i=(0,l.v9)((function(n){return n.films.pagination.page})),e=(0,l.v9)((function(n){return n.films.pagination.totalPages})),t=(0,l.v9)((function(n){return n.films.lastFetch})),r=(0,l.v9)((function(n){return n.films.pagination.isPaginated})),a=(0,l.v9)((function(n){return n.films.isLoading})),o=(0,l.v9)((function(n){return n.films.search})),d=(0,l.I0)(),s=(0,u.lr)(),c=(0,p.Z)(s,2),x=c[0],f=c[1];return(0,k.useEffect)((function(){o&&!x.get("query")&&f({query:o}),!o&&x.get("query")&&d((0,h.qP)(x.get("query"))),o&&x.get("query")&&d((0,w.HI)(o))}),[o,x,f,d]),(0,k.useEffect)((function(){n||r||o||x.get("query")||d((0,w.v7)())}),[o,x,r,n,d]),(0,k.useEffect)((function(){i&&r&&d((0,w.Vt)("".concat(t,"&page=").concat(i)))}),[i,r,t,d]),(0,b.jsx)(Z,{children:(0,b.jsxs)(y,{className:"container",children:[(0,b.jsx)(E.Z,{component:j.Z,position:"catalog"}),(0,b.jsx)(v,{}),a&&(0,b.jsx)(L.gy,{height:"80",width:"80",color:"#08B275",ariaLabel:"tail-spin-loading",radius:"1",wrapperStyle:{padding:"40px 0",display:"flex",justifyContent:"center"},wrapperClass:"",visible:!0}),n&&!a&&(0,b.jsx)(I.Z,{films:n}),e>1&&!a&&(0,b.jsx)(P,{})]})})}}}]);
//# sourceMappingURL=608.94153f14.chunk.js.map